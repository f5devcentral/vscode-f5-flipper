#NS13.1 Build 37.38
# Last modified by `save config`, Mon May 03 12:34:56 2555

# SSL_BRIDGE Application Configuration
# Example: Secure web application with end-to-end SSL encryption

# Virtual Server - SSL_BRIDGE terminates and re-encrypts SSL traffic
add lb vserver app_ssl_bridge_vs SSL_BRIDGE 192.168.1.100 443 -persistenceType SSLSESSION -cltTimeout 180

# Service Group - SSL_BRIDGE backend pool with SSL re-encryption
add serviceGroup app_ssl_bridge_sg SSL_BRIDGE -maxClient 0 -maxReq 0 -cip DISABLED -usip NO -useproxyport YES -cltTimeout 180 -svrTimeout 360 -CKA NO -TCPB NO -CMP NO

# Backend Server - Internal SSL server
add server backend_ssl_server 10.1.1.50

# Bindings
bind lb vserver app_ssl_bridge_vs app_ssl_bridge_sg
bind serviceGroup app_ssl_bridge_sg backend_ssl_server 443

# Health Monitor - TCP check on SSL port
add lb monitor ssl_tcp_monitor TCP -LRTM DISABLED -interval 10
bind serviceGroup app_ssl_bridge_sg -monitorName ssl_tcp_monitor
