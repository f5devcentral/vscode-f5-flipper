#NS13.1 Build 37.38
# Last modified by `save config`, Mon May 03 12:34:56 2555

### "BANANA_HTTP_DIRECT_IP" ##########
# Features: Services with direct IP addresses (no named servers)
# This tests the pattern where NetScaler auto-creates server objects

add lb vserver BANANA_HTTP_DIRECT_IP HTTP 10.240.30.10 80 -persistenceType SOURCEIP -timeout 60 -lbMethod LEASTCONNECTION -cltTimeout 180 -comment "Direct IP services test" -devno 88932352
bind lb vserver BANANA_HTTP_DIRECT_IP BANANA_SVC_8080
add service BANANA_SVC_8080 10.240.31.100 HTTP 8080 -gslb NONE -maxClient 0 -maxReq 0 -cip ENABLED X-Forwarded-For -usip NO -useproxyport YES -sp ON -cltTimeout 180 -svrTimeout 360 -CKA NO -TCPB NO -CMP YES -devno 127238144
bind lb vserver BANANA_HTTP_DIRECT_IP BANANA_SVC_8081
add service BANANA_SVC_8081 10.240.31.101 HTTP 8081 -gslb NONE -maxClient 0 -maxReq 0 -cip ENABLED X-Forwarded-For -usip NO -useproxyport YES -sp ON -cltTimeout 180 -svrTimeout 360 -CKA NO -TCPB NO -CMP YES -devno 127238145


### "BANANA_SSL_MIXED" ##########
# Features: Mix of direct IP and named server references

add lb vserver BANANA_SSL_MIXED SSL 10.240.30.11 443 -persistenceType COOKIEINSERT -timeout 0 -lbMethod ROUNDROBIN -cltTimeout 180 -comment "Mixed IP and named servers" -devno 88932353
bind lb vserver BANANA_SSL_MIXED BANANA_SSL_SVC_DIRECT
add service BANANA_SSL_SVC_DIRECT 10.240.31.102 SSL 443 -gslb NONE -maxClient 0 -maxReq 0 -cip ENABLED client-ip -usip NO -useproxyport YES -sp OFF -cltTimeout 180 -svrTimeout 360 -CKA NO -TCPB NO -CMP YES -devno 73465856
bind lb vserver BANANA_SSL_MIXED BANANA_SSL_SVC_NAMED
add service BANANA_SSL_SVC_NAMED banana_backend SSL 443 -gslb NONE -maxClient 0 -maxReq 0 -cip ENABLED client-ip -usip NO -useproxyport YES -sp OFF -cltTimeout 180 -svrTimeout 360 -CKA NO -TCPB NO -CMP YES -devno 73465857
add server banana_backend 10.240.31.103 -comment "Named server for comparison" -devno 171784


### "BANANA_TCP_PASSTHROUGH" ##########
# Features: TCP passthrough with direct IP (non-HTTP/SSL)

add lb vserver BANANA_TCP_PASSTHROUGH TCP 10.240.30.12 3306 -persistenceType SOURCEIP -timeout 120 -lbMethod LEASTCONNECTION -cltTimeout 9000 -comment "MySQL passthrough" -devno 88932354
bind lb vserver BANANA_TCP_PASSTHROUGH BANANA_MYSQL_SVC
add service BANANA_MYSQL_SVC 10.240.31.104 TCP 3306 -gslb NONE -maxClient 0 -maxReq 0 -usip NO -useproxyport YES -sp OFF -cltTimeout 9000 -svrTimeout 9000 -CKA NO -TCPB NO -CMP NO -devno 127238146
